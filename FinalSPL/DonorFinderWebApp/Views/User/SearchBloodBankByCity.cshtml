@using System.Activities.Expressions
@using System.ServiceModel.Security
@model IEnumerable<ProjectDAL.BloodBank>

@{
    ViewBag.Title = "Search BloodBank";
}


<h2 style="color: white; text-align: center;">Search Blood Bank By City</h2>
<hr />

<div class="row">

    <div class="col-sm-4"></div>

    <div class="col-sm-4">

        @using (@Html.BeginForm("SearchBloodBankByCity", "User", FormMethod.Get))
        {
            <div class="col-sm-12">
                <div class="col-sm-4" style="text-align: right;">
                    <b style="color: white">City: </b>
                </div>

                <div class="col-sm-8">
                    @Html.DropDownList("City", new List<SelectListItem>
                    {
                        new SelectListItem {Text = "Mymensingh", Value = "Mymensingh"},
                        new SelectListItem {Text = "Dhaka", Value = "Dhaka"},
                        new SelectListItem {Text = "Rajshahi", Value = "Rajshahi"},
                        new SelectListItem {Text = "Chittagong", Value = "Chittagong"},
                        new SelectListItem {Text = "Sylhet", Value = "Sylhet"},
                        new SelectListItem {Text = "Rangpur", Value = "Rangpur",},
                        new SelectListItem {Text = "Khulna", Value = "Khulna"},
                        new SelectListItem {Text = "Barisal", Value = "Barisal"}
                    }, "------Select City-------")
                </div>
            </div>
            <br />    <br />
            <div class="col-sm-12">
                <div class="col-sm-5"></div>
                <div class="col-sm-2">
                    <input type="submit" value="Search" />
                </div>
                <div class="col-sm-5"></div>
            </div>
        }

    </div>

    <div class="col-sm-4"></div>

    @* {
        <b>search by:</b>
        @Html.TextBox("City")<input type="submit" value="Search" />
        }*@
    <div class="col-sm-12">
        <hr />
    </div>


    <div class="col-sm-12">

        <table style="color: white; text-align: center; border: 1px; width: 100%;">

            @if (Model.Count() != 0)
            {
                <tr>
                    <th>
                        @Html.DisplayNameFor(model => model.UserName)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.CompanyName)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.Password)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.GovtRegNumber)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.City)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.AreaWithinCity)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.Address)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.Email)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.ContactNumber)
                    </th>
                    <th></th>
                </tr>
            }
            @foreach (var item in Model)
            {
                <tr>
                    <td>
                        @Html.DisplayFor(modelItem => item.UserName)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.CompanyName)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.Password)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.GovtRegNumber)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.City)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.AreaWithinCity)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.Address)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.Email)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.ContactNumber)
                    </td>
                    <td>
                        @Html.ActionLink("StockDetails", "StockDetailsviewer", "BloodBank", new { username = item.UserName }, null)
                    </td>

                </tr>


            }

        </table>
        <div style="color: white; text-align: center;">
            <hr style="width: 100%;" /> <br />

            @Html.ActionLink("Back", "Index", "User")

        </div>
    </div>
</div>